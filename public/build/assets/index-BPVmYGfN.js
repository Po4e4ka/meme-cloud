import{a as s}from"./app-Cw_2cWh4.js";const u=()=>"https://meme-cloud.devilops.tech:433/-/api",c={V1:"/v1"};class i{basePath;constructor(e){this.basePath=e}async request(e,r={}){const a={method:r.method??"GET",headers:{"Content-Type":"application/json",...r.headers},...r};try{const t=await fetch(e,a);if(!t.ok){const n=await t.text();throw new Error(`Request failed: ${t.status} ${t.statusText} â€” ${n}`)}return t}catch(t){throw console.error("API request error:",t),t}}replaceUrlPathVariables(e,r){return e.replace(/\{(\w+)}/g,(a,t)=>String(r[t]))}}class l extends i{async delete(e){return s.delete(route("meme.delete",e),{onSuccess:()=>{s.visit(route("dashboard"))}})}async new(e){return s.post(route("meme.upload"),e,{forceFormData:!0,onSuccess:()=>{s.visit(route("dashboard"))}})}async update(e,r){return s.post(route("meme.update",e),r,{forceFormData:!0,onSuccess:()=>{s.visit(route("dashboard"))}})}}class d{baseUrl;version=null;constructor(){this.baseUrl=u()}v1(){return this.version=c.V1,this}meme(){return new l(this.getBasePath()+"/media")}getBasePath(){if(!this.version)throw new Error("Runtime Exception: version must me set");return this.baseUrl+this.version}}export{d as I};
