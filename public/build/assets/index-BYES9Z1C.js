import{a as s}from"./app-CTMTIvB5.js";const i=()=>"/-/api",u={V1:"/v1"};class c{basePath;constructor(e){this.basePath=e}async request(e,r={}){const o={method:r.method??"GET",headers:{"Content-Type":"application/json",...r.headers},...r};try{const t=await fetch(e,o);if(!t.ok){const n=await t.text();throw new Error(`Request failed: ${t.status} ${t.statusText} â€” ${n}`)}return t}catch(t){throw console.error("API request error:",t),t}}replaceUrlPathVariables(e,r){return e.replace(/\{(\w+)}/g,(o,t)=>String(r[t]))}}class h extends c{async delete(e){return s.delete(route("meme.delete",e),{onSuccess:()=>{s.visit(route("dashboard"))}})}async new(e){return s.post(route("meme.upload"),e,{forceFormData:!0,onSuccess:()=>{s.visit(route("dashboard"))}})}async update(e,r){return s.post(route("meme.update",e),r,{forceFormData:!0,onSuccess:()=>{s.visit(route("dashboard"))}})}}class d{baseUrl;version=null;constructor(){this.baseUrl=i()}v1(){return this.version=u.V1,this}meme(){return new h(this.getBasePath()+"/media")}getBasePath(){if(!this.version)throw new Error("Runtime Exception: version must me set");return this.baseUrl+this.version}}export{d as I};
