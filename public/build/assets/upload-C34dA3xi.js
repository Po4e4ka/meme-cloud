import{r,j as e,b as u}from"./app-C0WAiyLZ.js";/* empty css            */function f(){const[a,c]=r.useState(null),[o,n]=r.useState(!1),[t,d]=r.useState(null),p=async s=>{if(s.preventDefault(),!a)return;const i=new FormData;i.append("file",a);try{n(!0);const l=await u.post("/upload",i,{headers:{"Content-Type":"multipart/form-data"}});d(l.data.url)}catch(l){console.error(l)}finally{n(!1)}};return e.jsxs("div",{className:"p-4 border rounded-lg bg-neutral-100 dark:bg-neutral-800",children:[e.jsxs("form",{onSubmit:p,className:"flex flex-col gap-2",children:[e.jsx("input",{type:"file",accept:"video/mp4,image/*",onChange:s=>c(s.target.files?.[0]||null)}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-500 text-white disabled:opacity-50",disabled:!a||o,children:o?"Загрузка...":"Загрузить"})]}),t&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{children:"Файл загружен:"}),t.endsWith(".mp4")?e.jsx("video",{src:t,controls:!0,className:"w-[200px] h-[260px] object-cover"}):e.jsx("img",{src:t,alt:"Uploaded",className:"w-[200px] h-[260px] object-cover"})]})]})}export{f as default};
